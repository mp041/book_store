{"ast":null,"code":"import _slicedToArray from\"/home/mihirpanchal/PROJECTS/book_store/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState,useEffect}from'react';import{useParams,Link}from'react-router-dom';import{GlobalState}from'../../../GlobalState';import ProductItem from'../utils/productItem/ProductItem';function DetailProduct(){var params=useParams();var state=useContext(GlobalState);var _state$productsAPI$pr=_slicedToArray(state.productsAPI.products,1),products=_state$productsAPI$pr[0];var addCart=state.userAPI.addCart;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),detailProduct=_useState2[0],setDetailProduct=_useState2[1];useEffect(function(){if(params.id){products.forEach(function(product){if(product._id===params.id)setDetailProduct(product);});}},[params.id,products]);if(detailProduct.length===0)return null;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"detail\"},/*#__PURE__*/React.createElement(\"img\",{src:detailProduct.images.url,alt:\"\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"box-detail\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"h2\",null,detailProduct.title),/*#__PURE__*/React.createElement(\"h6\",null,\"#id: \",detailProduct.product_id)),/*#__PURE__*/React.createElement(\"span\",null,\"$ \",detailProduct.price),/*#__PURE__*/React.createElement(\"p\",null,detailProduct.description),/*#__PURE__*/React.createElement(\"p\",null,detailProduct.content),/*#__PURE__*/React.createElement(\"p\",null,\"Sold: \",detailProduct.sold),/*#__PURE__*/React.createElement(Link,{to:\"/cart\",className:\"cart\",onClick:function onClick(){return addCart(detailProduct);}},\"Buy Now\"))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h2\",null,\"Related products\"),/*#__PURE__*/React.createElement(\"div\",{className:\"products\"},products.map(function(product){return product.category===detailProduct.category?/*#__PURE__*/React.createElement(ProductItem,{key:product._id,product:product}):null;}))));}export default DetailProduct;","map":{"version":3,"sources":["/home/mihirpanchal/PROJECTS/book_store/client/src/components/mainpages/detailProduct/DetailProduct.js"],"names":["React","useContext","useState","useEffect","useParams","Link","GlobalState","ProductItem","DetailProduct","params","state","productsAPI","products","addCart","userAPI","detailProduct","setDetailProduct","id","forEach","product","_id","length","images","url","title","product_id","price","description","content","sold","map","category"],"mappings":"oKAAA,MAAOA,CAAAA,KAAP,EAAeC,UAAf,CAA2BC,QAA3B,CAAqCC,SAArC,KAAqD,OAArD,CACA,OAAQC,SAAR,CAAmBC,IAAnB,KAA8B,kBAA9B,CACA,OAAQC,WAAR,KAA0B,sBAA1B,CACA,MAAOC,CAAAA,WAAP,KAAwB,kCAAxB,CAGA,QAASC,CAAAA,aAAT,EAAyB,CACrB,GAAMC,CAAAA,MAAM,CAAGL,SAAS,EAAxB,CACA,GAAMM,CAAAA,KAAK,CAAGT,UAAU,CAACK,WAAD,CAAxB,CAFqB,yCAGFI,KAAK,CAACC,WAAN,CAAkBC,QAHhB,IAGdA,QAHc,0BAIrB,GAAMC,CAAAA,OAAO,CAAGH,KAAK,CAACI,OAAN,CAAcD,OAA9B,CAJqB,cAKqBX,QAAQ,CAAC,EAAD,CAL7B,wCAKda,aALc,eAKCC,gBALD,eAOrBb,SAAS,CAAC,UAAK,CACX,GAAGM,MAAM,CAACQ,EAAV,CAAa,CAETL,QAAQ,CAACM,OAAT,CAAiB,SAAAC,OAAO,CAAI,CACxB,GAAGA,OAAO,CAACC,GAAR,GAAgBX,MAAM,CAACQ,EAA1B,CAA8BD,gBAAgB,CAACG,OAAD,CAAhB,CACjC,CAFD,EAGH,CACJ,CAPQ,CAOP,CAACV,MAAM,CAACQ,EAAR,CAAYL,QAAZ,CAPO,CAAT,CASA,GAAGG,aAAa,CAACM,MAAd,GAAyB,CAA5B,CAA+B,MAAO,KAAP,CAE/B,mBACI,qDACI,2BAAK,SAAS,CAAC,QAAf,eACI,2BAAK,GAAG,CAAEN,aAAa,CAACO,MAAd,CAAqBC,GAA/B,CAAoC,GAAG,CAAC,EAAxC,EADJ,cAEI,2BAAK,SAAS,CAAC,YAAf,eACI,2BAAK,SAAS,CAAC,KAAf,eACI,8BAAKR,aAAa,CAACS,KAAnB,CADJ,cAEI,sCAAUT,aAAa,CAACU,UAAxB,CAFJ,CADJ,cAKI,qCAASV,aAAa,CAACW,KAAvB,CALJ,cAMI,6BAAIX,aAAa,CAACY,WAAlB,CANJ,cAOI,6BAAIZ,aAAa,CAACa,OAAlB,CAPJ,cAQI,sCAAUb,aAAa,CAACc,IAAxB,CARJ,cASI,oBAAC,IAAD,EAAM,EAAE,CAAC,OAAT,CAAiB,SAAS,CAAC,MAA3B,CACA,OAAO,CAAE,yBAAMhB,CAAAA,OAAO,CAACE,aAAD,CAAb,EADT,YATJ,CAFJ,CADJ,cAmBI,4CACI,iDADJ,cAEI,2BAAK,SAAS,CAAC,UAAf,EAEQH,QAAQ,CAACkB,GAAT,CAAa,SAAAX,OAAO,CAAI,CACpB,MAAOA,CAAAA,OAAO,CAACY,QAAR,GAAqBhB,aAAa,CAACgB,QAAnC,cACD,oBAAC,WAAD,EAAa,GAAG,CAAEZ,OAAO,CAACC,GAA1B,CAA+B,OAAO,CAAED,OAAxC,EADC,CACqD,IAD5D,CAEH,CAHD,CAFR,CAFJ,CAnBJ,CADJ,CAiCH,CAED,cAAeX,CAAAA,aAAf","sourcesContent":["import React, {useContext, useState, useEffect} from 'react'\nimport {useParams, Link} from 'react-router-dom'\nimport {GlobalState} from '../../../GlobalState'\nimport ProductItem from '../utils/productItem/ProductItem'\n\n\nfunction DetailProduct() {\n    const params = useParams()\n    const state = useContext(GlobalState)\n    const [products] = state.productsAPI.products\n    const addCart = state.userAPI.addCart\n    const [detailProduct, setDetailProduct] = useState([])\n\n    useEffect(() =>{\n        if(params.id){\n\n            products.forEach(product => {\n                if(product._id === params.id) setDetailProduct(product)\n            })\n        }\n    },[params.id, products])\n\n    if(detailProduct.length === 0) return null;\n\n    return (\n        <>\n            <div className=\"detail\">\n                <img src={detailProduct.images.url} alt=\"\" />\n                <div className=\"box-detail\">\n                    <div className=\"row\">\n                        <h2>{detailProduct.title}</h2>\n                        <h6>#id: {detailProduct.product_id}</h6>\n                    </div>\n                    <span>$ {detailProduct.price}</span>\n                    <p>{detailProduct.description}</p>\n                    <p>{detailProduct.content}</p>\n                    <p>Sold: {detailProduct.sold}</p>\n                    <Link to=\"/cart\" className=\"cart\"\n                    onClick={() => addCart(detailProduct)}>\n                        Buy Now\n                    </Link>\n                </div>\n            </div>\n\n            <div>\n                <h2>Related products</h2>\n                <div className=\"products\">\n                    {\n                        products.map(product => {\n                            return product.category === detailProduct.category \n                                ? <ProductItem key={product._id} product={product} /> : null\n                        })\n                    }\n                </div>\n            </div>\n        </>\n    )\n}\n\nexport default DetailProduct\n"]},"metadata":{},"sourceType":"module"}