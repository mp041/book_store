{"ast":null,"code":"import _regeneratorRuntime from\"/home/mihirpanchal/PROJECTS/book_store/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/mihirpanchal/PROJECTS/book_store/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/home/mihirpanchal/PROJECTS/book_store/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/mihirpanchal/PROJECTS/book_store/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/mihirpanchal/PROJECTS/book_store/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Link}from'react-router-dom';import axios from'axios';function Register(){var _useState=useState({name:'',email:'',password:''}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var onChangeInput=function onChangeInput(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},name,value)));};var registerSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return axios.post('/user/register',_objectSpread({},user));case 4:localStorage.setItem('firstLogin',true);window.location.href=\"/\";_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);alert(_context.t0.response.data.msg);case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function registerSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",{className:\"login-page\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:registerSubmit},/*#__PURE__*/React.createElement(\"h2\",null,\"Register\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"name\",required:true,placeholder:\"Name\",value:user.name,onChange:onChangeInput}),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",name:\"email\",required:true,placeholder:\"Email\",value:user.email,onChange:onChangeInput}),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"password\",required:true,autoComplete:\"on\",placeholder:\"Password\",value:user.password,onChange:onChangeInput}),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"button\",{type:\"submit\"},\"Register\"),/*#__PURE__*/React.createElement(Link,{to:\"/login\"},\"Login\"))));}export default Register;","map":{"version":3,"sources":["/home/mihirpanchal/PROJECTS/book_store/client/src/components/mainpages/auth/Register.js"],"names":["React","useState","Link","axios","Register","name","email","password","user","setUser","onChangeInput","e","target","value","registerSubmit","preventDefault","post","localStorage","setItem","window","location","href","alert","response","data","msg"],"mappings":"kzBAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,OAAQC,IAAR,KAAmB,kBAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,QAASC,CAAAA,QAAT,EAAoB,eACQH,QAAQ,CAAC,CAC7BI,IAAI,CAAC,EADwB,CACpBC,KAAK,CAAC,EADc,CACVC,QAAQ,CAAE,EADA,CAAD,CADhB,wCACTC,IADS,eACHC,OADG,eAKhB,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAAAC,CAAC,CAAG,eACAA,CAAC,CAACC,MADF,CACfP,IADe,WACfA,IADe,CACTQ,KADS,WACTA,KADS,CAEtBJ,OAAO,gCAAKD,IAAL,wBAAYH,IAAZ,CAAkBQ,KAAlB,GAAP,CACH,CAHD,CAKA,GAAMC,CAAAA,cAAc,0FAAG,iBAAMH,CAAN,kHACnBA,CAAC,CAACI,cAAF,GADmB,sCAGTZ,CAAAA,KAAK,CAACa,IAAN,CAAW,gBAAX,kBAAiCR,IAAjC,EAHS,QAKfS,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAmC,IAAnC,EAGAC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,GAAvB,CARe,+EAUfC,KAAK,CAAC,YAAIC,QAAJ,CAAaC,IAAb,CAAkBC,GAAnB,CAAL,CAVe,oEAAH,kBAAdX,CAAAA,cAAc,4CAApB,CAcA,mBACI,2BAAK,SAAS,CAAC,YAAf,eACI,4BAAM,QAAQ,CAAEA,cAAhB,eACI,yCADJ,cAEI,6BAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,MAAxB,CAA+B,QAAQ,KAAvC,CACA,WAAW,CAAC,MADZ,CACmB,KAAK,CAAEN,IAAI,CAACH,IAD/B,CACqC,QAAQ,CAAEK,aAD/C,EAFJ,cAKI,6BAAO,IAAI,CAAC,OAAZ,CAAoB,IAAI,CAAC,OAAzB,CAAiC,QAAQ,KAAzC,CACA,WAAW,CAAC,OADZ,CACoB,KAAK,CAAEF,IAAI,CAACF,KADhC,CACuC,QAAQ,CAAEI,aADjD,EALJ,cAQI,6BAAO,IAAI,CAAC,UAAZ,CAAuB,IAAI,CAAC,UAA5B,CAAuC,QAAQ,KAA/C,CAAgD,YAAY,CAAC,IAA7D,CACA,WAAW,CAAC,UADZ,CACuB,KAAK,CAAEF,IAAI,CAACD,QADnC,CAC6C,QAAQ,CAAEG,aADvD,EARJ,cAWI,2BAAK,SAAS,CAAC,KAAf,eACI,8BAAQ,IAAI,CAAC,QAAb,aADJ,cAEI,oBAAC,IAAD,EAAM,EAAE,CAAC,QAAT,UAFJ,CAXJ,CADJ,CADJ,CAoBH,CAED,cAAeN,CAAAA,QAAf","sourcesContent":["import React, {useState} from 'react'\nimport {Link} from 'react-router-dom'\nimport axios from 'axios'\n\nfunction Register() {\n    const [user, setUser] = useState({\n        name:'', email:'', password: ''\n    })\n\n    const onChangeInput = e =>{\n        const {name, value} = e.target;\n        setUser({...user, [name]:value})\n    }\n\n    const registerSubmit = async e =>{\n        e.preventDefault()\n        try {\n            await axios.post('/user/register', {...user})\n\n            localStorage.setItem('firstLogin', true)\n\n            \n            window.location.href = \"/\";\n        } catch (err) {\n            alert(err.response.data.msg)\n        }\n    }\n\n    return (\n        <div className=\"login-page\">\n            <form onSubmit={registerSubmit}>\n                <h2>Register</h2>\n                <input type=\"text\" name=\"name\" required\n                placeholder=\"Name\" value={user.name} onChange={onChangeInput} />\n\n                <input type=\"email\" name=\"email\" required\n                placeholder=\"Email\" value={user.email} onChange={onChangeInput} />\n\n                <input type=\"password\" name=\"password\" required autoComplete=\"on\"\n                placeholder=\"Password\" value={user.password} onChange={onChangeInput} />\n\n                <div className=\"row\">\n                    <button type=\"submit\">Register</button>\n                    <Link to=\"/login\">Login</Link>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default Register"]},"metadata":{},"sourceType":"module"}