{"ast":null,"code":"import _regeneratorRuntime from\"/home/mihirpanchal/PROJECTS/book_store/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/mihirpanchal/PROJECTS/book_store/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/mihirpanchal/PROJECTS/book_store/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';import axios from'axios';function ProductsAPI(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),callback=_useState4[0],setCallback=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),category=_useState6[0],setCategory=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),sort=_useState8[0],setSort=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),search=_useState10[0],setSearch=_useState10[1];var _useState11=useState(1),_useState12=_slicedToArray(_useState11,2),page=_useState12[0],setPage=_useState12[1];var _useState13=useState(0),_useState14=_slicedToArray(_useState13,2),result=_useState14[0],setResult=_useState14[1];useEffect(function(){var getProducts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/api/products?limit=\".concat(page*9,\"&\").concat(category,\"&\").concat(sort,\"&title[regex]=\").concat(search));case 2:res=_context.sent;setProducts(res.data.products);setResult(res.data.result);case 5:case\"end\":return _context.stop();}}},_callee);}));return function getProducts(){return _ref.apply(this,arguments);};}();getProducts();},[callback,category,sort,search,page]);return{products:[products,setProducts],callback:[callback,setCallback],category:[category,setCategory],sort:[sort,setSort],search:[search,setSearch],page:[page,setPage],result:[result,setResult]};}export default ProductsAPI;","map":{"version":3,"sources":["/home/mihirpanchal/PROJECTS/book_store/client/src/api/ProductsAPI.js"],"names":["useState","useEffect","axios","ProductsAPI","products","setProducts","callback","setCallback","category","setCategory","sort","setSort","search","setSearch","page","setPage","result","setResult","getProducts","get","res","data"],"mappings":"yeAAA,OAAQA,QAAR,CAAkBC,SAAlB,KAAkC,OAAlC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAGA,QAASC,CAAAA,WAAT,EAAuB,eACaH,QAAQ,CAAC,EAAD,CADrB,wCACZI,QADY,eACFC,WADE,8BAEaL,QAAQ,CAAC,KAAD,CAFrB,yCAEZM,QAFY,eAEFC,WAFE,8BAGaP,QAAQ,CAAC,EAAD,CAHrB,yCAGZQ,QAHY,eAGFC,WAHE,8BAIKT,QAAQ,CAAC,EAAD,CAJb,yCAIZU,IAJY,eAINC,OAJM,8BAKSX,QAAQ,CAAC,EAAD,CALjB,0CAKZY,MALY,gBAKJC,SALI,gCAMKb,QAAQ,CAAC,CAAD,CANb,2CAMZc,IANY,gBAMNC,OANM,gCAOSf,QAAQ,CAAC,CAAD,CAPjB,2CAOZgB,MAPY,gBAOJC,SAPI,gBASnBhB,SAAS,CAAC,UAAK,CACX,GAAMiB,CAAAA,WAAW,0FAAG,iKACEhB,CAAAA,KAAK,CAACiB,GAAN,+BAAiCL,IAAI,CAAC,CAAtC,aAA2CN,QAA3C,aAAuDE,IAAvD,0BAA4EE,MAA5E,EADF,QACVQ,GADU,eAEhBf,WAAW,CAACe,GAAG,CAACC,IAAJ,CAASjB,QAAV,CAAX,CACAa,SAAS,CAACG,GAAG,CAACC,IAAJ,CAASL,MAAV,CAAT,CAHgB,sDAAH,kBAAXE,CAAAA,WAAW,0CAAjB,CAKAA,WAAW,GACd,CAPQ,CAOP,CAACZ,QAAD,CAAWE,QAAX,CAAqBE,IAArB,CAA2BE,MAA3B,CAAmCE,IAAnC,CAPO,CAAT,CASA,MAAO,CACHV,QAAQ,CAAE,CAACA,QAAD,CAAWC,WAAX,CADP,CAEHC,QAAQ,CAAE,CAACA,QAAD,CAAWC,WAAX,CAFP,CAGHC,QAAQ,CAAE,CAACA,QAAD,CAAWC,WAAX,CAHP,CAIHC,IAAI,CAAE,CAACA,IAAD,CAAOC,OAAP,CAJH,CAKHC,MAAM,CAAE,CAACA,MAAD,CAASC,SAAT,CALL,CAMHC,IAAI,CAAE,CAACA,IAAD,CAAOC,OAAP,CANH,CAOHC,MAAM,CAAE,CAACA,MAAD,CAASC,SAAT,CAPL,CAAP,CASH,CAED,cAAed,CAAAA,WAAf","sourcesContent":["import {useState, useEffect} from 'react'\nimport axios from 'axios'\n\n\nfunction ProductsAPI() {\n    const [products, setProducts] = useState([])\n    const [callback, setCallback] = useState(false)\n    const [category, setCategory] = useState('')\n    const [sort, setSort] = useState('')\n    const [search, setSearch] = useState('')\n    const [page, setPage] = useState(1)\n    const [result, setResult] = useState(0)\n\n    useEffect(() =>{\n        const getProducts = async () => {\n            const res = await axios.get(`/api/products?limit=${page*9}&${category}&${sort}&title[regex]=${search}`)\n            setProducts(res.data.products)\n            setResult(res.data.result)\n        }\n        getProducts()\n    },[callback, category, sort, search, page])\n    \n    return {\n        products: [products, setProducts],\n        callback: [callback, setCallback],\n        category: [category, setCategory],\n        sort: [sort, setSort],\n        search: [search, setSearch],\n        page: [page, setPage],\n        result: [result, setResult]\n    }\n}\n\nexport default ProductsAPI\n"]},"metadata":{},"sourceType":"module"}