{"ast":null,"code":"import _regeneratorRuntime from\"/home/mihirpanchal/PROJECTS/book_store/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/mihirpanchal/PROJECTS/book_store/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/home/mihirpanchal/PROJECTS/book_store/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/mihirpanchal/PROJECTS/book_store/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/mihirpanchal/PROJECTS/book_store/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Link}from'react-router-dom';import axios from'axios';function Login(){var _useState=useState({email:'',password:''}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var onChangeInput=function onChangeInput(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},name,value)));};var loginSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return axios.post('/user/login',_objectSpread({},user));case 4:localStorage.setItem('firstLogin',true);window.location.href=\"/\";_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);alert(_context.t0.response.data.msg);case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function loginSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",{className:\"login-page\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:loginSubmit},/*#__PURE__*/React.createElement(\"h2\",null,\"Login\"),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",name:\"email\",required:true,placeholder:\"Email\",value:user.email,onChange:onChangeInput}),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"password\",required:true,autoComplete:\"on\",placeholder:\"Password\",value:user.password,onChange:onChangeInput}),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"button\",{type:\"submit\"},\"Login\"),/*#__PURE__*/React.createElement(Link,{to:\"/register\"},\"Register\"))));}export default Login;","map":{"version":3,"sources":["/home/mihirpanchal/PROJECTS/book_store/client/src/components/mainpages/auth/Login.js"],"names":["React","useState","Link","axios","Login","email","password","user","setUser","onChangeInput","e","target","name","value","loginSubmit","preventDefault","post","localStorage","setItem","window","location","href","alert","response","data","msg"],"mappings":"kzBAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,OAAQC,IAAR,KAAmB,kBAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,QAASC,CAAAA,KAAT,EAAiB,eACWH,QAAQ,CAAC,CAC7BI,KAAK,CAAC,EADuB,CACnBC,QAAQ,CAAE,EADS,CAAD,CADnB,wCACNC,IADM,eACAC,OADA,eAKb,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAAAC,CAAC,CAAG,eACAA,CAAC,CAACC,MADF,CACfC,IADe,WACfA,IADe,CACTC,KADS,WACTA,KADS,CAEtBL,OAAO,gCAAKD,IAAL,wBAAYK,IAAZ,CAAkBC,KAAlB,GAAP,CACH,CAHD,CAKA,GAAMC,CAAAA,WAAW,0FAAG,iBAAMJ,CAAN,kHAChBA,CAAC,CAACK,cAAF,GADgB,sCAGNZ,CAAAA,KAAK,CAACa,IAAN,CAAW,aAAX,kBAA8BT,IAA9B,EAHM,QAKZU,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAmC,IAAnC,EAEAC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,GAAvB,CAPY,+EASZC,KAAK,CAAC,YAAIC,QAAJ,CAAaC,IAAb,CAAkBC,GAAnB,CAAL,CATY,oEAAH,kBAAXX,CAAAA,WAAW,4CAAjB,CAaA,mBACI,2BAAK,SAAS,CAAC,YAAf,eACI,4BAAM,QAAQ,CAAEA,WAAhB,eACI,sCADJ,cAEI,6BAAO,IAAI,CAAC,OAAZ,CAAoB,IAAI,CAAC,OAAzB,CAAiC,QAAQ,KAAzC,CACA,WAAW,CAAC,OADZ,CACoB,KAAK,CAAEP,IAAI,CAACF,KADhC,CACuC,QAAQ,CAAEI,aADjD,EAFJ,cAKI,6BAAO,IAAI,CAAC,UAAZ,CAAuB,IAAI,CAAC,UAA5B,CAAuC,QAAQ,KAA/C,CAAgD,YAAY,CAAC,IAA7D,CACA,WAAW,CAAC,UADZ,CACuB,KAAK,CAAEF,IAAI,CAACD,QADnC,CAC6C,QAAQ,CAAEG,aADvD,EALJ,cAQI,2BAAK,SAAS,CAAC,KAAf,eACI,8BAAQ,IAAI,CAAC,QAAb,UADJ,cAEI,oBAAC,IAAD,EAAM,EAAE,CAAC,WAAT,aAFJ,CARJ,CADJ,CADJ,CAiBH,CAED,cAAeL,CAAAA,KAAf","sourcesContent":["import React, {useState} from 'react'\nimport {Link} from 'react-router-dom'\nimport axios from 'axios'\n\nfunction Login() {\n    const [user, setUser] = useState({\n        email:'', password: ''\n    })\n\n    const onChangeInput = e =>{\n        const {name, value} = e.target;\n        setUser({...user, [name]:value})\n    }\n\n    const loginSubmit = async e =>{\n        e.preventDefault()\n        try {\n            await axios.post('/user/login', {...user})\n\n            localStorage.setItem('firstLogin', true)\n            \n            window.location.href = \"/\";\n        } catch (err) {\n            alert(err.response.data.msg)\n        }\n    }\n\n    return (\n        <div className=\"login-page\">\n            <form onSubmit={loginSubmit}>\n                <h2>Login</h2>\n                <input type=\"email\" name=\"email\" required\n                placeholder=\"Email\" value={user.email} onChange={onChangeInput} />\n\n                <input type=\"password\" name=\"password\" required autoComplete=\"on\"\n                placeholder=\"Password\" value={user.password} onChange={onChangeInput} />\n\n                <div className=\"row\">\n                    <button type=\"submit\">Login</button>\n                    <Link to=\"/register\">Register</Link>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default Login\n"]},"metadata":{},"sourceType":"module"}